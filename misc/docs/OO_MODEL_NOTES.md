# OO модель: минимальный план

Стартовая модель без наследования классов:

- **Данные**: `struct`/`record` с инлайн-методами. Поля `priv` по умолчанию, `pub` по явному модификатору.
- **Получатель**: `@` (как `self`). Доступ к полям/методам без точки: `@x`, `@move()`.
- **Методы** (один синтаксис, с `fn`, `@` не передаём параметром):
  - Тело-выражение:
    ```mlc
    struct Point {
      x: f32
      y: f32
      fn norm() -> f32 = sqrt(@x*@x + @y*@y)
      fn move(dx: f32, dy: f32) -> Point = Point{ x: @x + dx, y: @y + dy }
    }
    ```
  - Тело-блок (для нескольких выражений):
    ```mlc
    struct Point {
      x: f32
      y: f32
      fn move(dx: f32, dy: f32) -> Point do
        let nx = @x + dx
        let ny = @y + dy
        Point{ x: nx, y: ny }
      end
    }
    ```
- **Расширения**: `extend Type { ... }` добавляет методы к уже объявленному типу. Для реализации трейта: `extend Type : Trait { ... }`.
- **Трейты**: контракты без состояний. Default-методы внутри `trait`. Подключение — через `extend Type : Trait { ... }`.
- **Перегрузка**: допустима по арности/типам аргументов (без перегрузки по возвращаемому типу). Операторы — пока нет.
- **Инкапсуляция**: модульная приватность + `pub`/`priv` внутри типов и методов.
- **Владение/безопасность**: библиотечные алиасы (`Shared`, `Weak`, `ChildPtr = Shared`, `ParentPtr = Weak`, `Handle = Weak`), фабрики `share/downgrade/upgrade`. Линт: обратные ссылки должны быть `Weak`; сырые указатели только в `unsafe`.

## Открытые решения
- Оставлять ли оба стиля записи методов (`fn norm(@)` и `norm(@)`), или перейти на единый компактный?
- Вводить ли сразу перегрузку операторов — пока предлагаем отложить.
- Явная маркировка динамики в record (opt-in) — решается отдельно.
