=== Миграция структуры lib/mlc/ ===
Root: /home/jenya/workspaces/mlc/lib/mlc
Dry run: false
Run tests: true
Quick check: true

Phase 1: Создание новой структуры директорий
  ✓ source
  ✓ source/ast
  ✓ source/parser
  ✓ representations
  ✓ representations/semantic
  ✓ representations/semantic/nodes
  ✓ representations/semantic/gen
  ✓ common
  ✓ common/registry
  ✓ common/typing
  ✓ common/diagnostics
  ✓ common/analysis
  ✓ tools
  ✓ tools/compiler


================================================================================
Step 1/9: parser
  parser → source/parser
  Parser files (наименее зависимые)

  1. Перемещение файлов...
    ✓ Перемещено
  2. Обновление require_relative...
    ✓ Обновлено файлов: 7
  3. Запуск тестов...
    Быстрая проверка: ruby -c lib/mlc.rb
    Проверка загрузки: ruby -Ilib -rmlc -e 'puts "OK"'
scripts/migrate_structure.rb:176:in 'StructureMigrator#execute_step': undefined method 'chomp' for nil (NoMethodError)

        response = $stdin.gets.chomp
                              ^^^^^^
	from scripts/migrate_structure.rb:96:in 'block in StructureMigrator#migrate'
	from scripts/migrate_structure.rb:89:in 'Array#each'
	from scripts/migrate_structure.rb:89:in 'Enumerable#each_with_index'
	from scripts/migrate_structure.rb:89:in 'StructureMigrator#migrate'
	from scripts/migrate_structure.rb:357:in '<main>'
    ✗ Тесты упали

Откатить изменения? (y/n)
